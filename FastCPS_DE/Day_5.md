# 데이터 엔지니어링(패스트 캠퍼스)

## Ch 03. Linux 기본 활용

### 1. man, 파일시스템 명령어 - 시작 ~ cd

windows는 Putty 환경에서 실습

- man [명령어] : 어떤 명령어의 매뉴얼을 보여주는 명령어
    - man ~의 출력화면에서
        - j를 누르면 한줄씩 내려감
        - k는 한줄씩 위로 올라감
        - q를 누르면 명령어 페이지 종료
    - [명령어] —help : man과 비슷한 역할을 한다.
- ubuntu@ip-172-31-33-106:~$ → (root user)@(host name) : (home directory)
- cd [경로]: 디렉토리 이동
    - .. : 상위 디렉토리
    - . : 현재 디렉토리
    - tab * 2 : 현재 디렉토리내의 모든 파일들 표시
    - tab : 자동 완성
    - - : 이동하기 직전 경로로 이동
    - ~ : home directory
    - / : root directory
- pwd : 현재 위치의 절대 경로를 표시해주는 명령어
- clear : cmd 창을 초기화
- ls : 현재 디렉토리의 파일 정보를 보여주는 명령어
    - -al : 현재 경로에 있는 모든 파일의 상세정보를 볼 수 있는 옵션
        - .~ : 이런 파일들은 숨김파일들이다. mv나 이것저것에 적용가능
        - ls -al과 ll은 동일한 기능을 가진다.
    - -il : i node 파일이나 디렉토리의 고유 식별부호까지 추가해서 보는 옵션
        - 이름이 바뀌거나 내용이 바뀌어도 고유식별부호는 변함이 없다.
        - 로그기능이나 프레임워크 직접 개발하는 개발자 아니면 큰 신경안쓴다.
- mkdir [new_name] : 디렉토리 만들기, 경로 지정도 가능하다.
- rm [name] : 파일 제거 명령어이다. 이것만으로는 디렉토리 삭제는 불가능하다.
    - -r : 디렉토리 삭제시 하위경로의 파일을 삭제
    - -f : 삭제시 강제로 삭제하는 옵션
    - rm -rf [name] : 가장 많이 사용하는 명령어
- rmdir [dir_name] : -r 옵션 없이 디렉토리를 지우는 명령어이다.
- df : 디스크 공간에 대한 정보를 보는 명령어
    - disk filesystem이 어떤 디렉토리에 마운트 됐는지 얼마나 사용되고 할당됐는지 확인이 가능하다.
    - -h : human readable
- du : 디스크 사용량과 사용율을 볼 수 있다.
    - -h : human readable
    - -s : summary
    - -d : max depth를 정해서 해당 깊이만큼 펼쳐서 보여준다
- chmod [option] [mod] [file] : 권한관리
    - ex) chmod 777 filename, chmod g+x,o+x filename
    - 권한의 종류에는 r(read), w(write), x(execute) 세 가지가 있다.
    - 권한의 범위에는 u(user), g(group), o(other)가 있다. a는 all을 의미한다.
    - 변환하는 방법에는 추가 +, 제거 -, 지정 = 세 가지가 있다.
    - 3자리의 8진수 형식으로도 지정이 가능하다.
        
        ![Untitled](/FastCPS_DE/img/%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%8C%E1%85%B5%E1%84%82%E1%85%B5%E1%84%8B%E1%85%A5%E1%84%85%E1%85%B5%E1%86%BC(%E1%84%91%E1%85%A2%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%A2%E1%86%B7%E1%84%91%E1%85%A5%E1%84%89%E1%85%B3)%20017fe43311de4582a3469a86c7ac00ea/Untitled%201.png)
        
    - ll 명령어 입력시 앞에 drwxr-xr-x 이런 문자열이 뜨는데 d는 디렉토리를 의미하고 나머지가 권한을의미한다.
    

### 2. 파일 관리를 위한 명령어 - 시작 ~ diff 까지

- touch [name] : 새로운 파일을 만듦
- cat [name] : 파일의 내용을 출력해준다.
- man find > find.txt : > 라는 연산자가 파일 생성같은 의미를 가진 연산자
    - >> : 꺽쇠가 두개인 경우는 파일 뒤에 붙이겠다라는 의미 append와 동일한 의미이다.
- head [name] : 파이프된 데이터의 시작점을 볼 수 있다.
    - -n [number]: default 값 10줄 대신 파라미터만큼의 줄을 출력해준다.
- tail [name] : 파이프된 데이터의 마지막을 볼 수 있다.
    - -n [name] : head와 동일
    - -f [name] : 실시간으로 append 되는 내용을 확인할 수 있다.
- vi [name] : 텍스트 편집기 실행
    - shift + g : 맨 마지막 줄로 이동
- ps [option] : 현재 실행 중인 프로세스를 출력해준다.
    - ps -ef | grep [프로세스명] : 이 문장이 가장 많이 쓰이는 명령어임
- kill [option] : 프로세스를 종료한다.
    - -9 [pid] : 프로세스 아이디를 매개변수로 하여 종료시킨다.
- comm [name_1] [name_2] : 두 개의 파일을 비교하는 명령어이다.
    - -12 : 두 파일에 동시에 존재하는 것만 출력
    - -3 : 각 파일에 유니크하게 존재하는 것만 출력
- cmp [name_1] [name_2] : 두 개의 파일을 byte단위로 비교해주는 명령어이다.
- diff [name_1] [name_2] : 두 개의 파일을 라인별로 비교해서 문서파일 의 줄 사이 변경 사항을 알려주는 명령어이다.
    - 앞에 것이 기준 파일이고 뒤에 것이 비교 대상이다
    - add, change, delete 3가지 symbol로 알려준다.

### 3. 파일 관리를 위한 명령어 - less ~ alias 까지

- less [name] : cat과 다르게 터미널 세션에 프린트하지 않고 파일 내용을 보게 해주는 명령어
    - 파일이 클 때 vi보다 빠르다.
- more [name] : less와 다르게 양방향 탐색이 불가능하다. 따라서 less만 쓴다.
- ln [name] [new_name] : new name에 파일을 링크한다. 바로가기 정도로 생각하면 편하다. 디렉토리도 물론 가능하다.
    - -s : 심볼릭 링크를 만드는 옵션, 심볼릭 링크란 원본 파일이 사라지면 그 기능을 잃는 링크이다.
    - 원본 파일을 삭제했다가 다시 원본 파일의 이름을 가진 파일을 만들면 링크가 살아난다.
        - i-node로 심볼릭 링크를 거는 것이 아니라 경로로 링크를 거는 것을 알 수 있다.
- alias [name] [명령어] : 명령어를 숏컷으로 저장해놓는 명령어, 환경변수와는 다름
    - $@ : 모든 파라미터의 의미
    - 터미널 세션이 끝나면 사라진다. 그 터미널 쉘 내에서만 가능하다.
    - 밖에서도 실행하고 싶다면 환경변수를 추가해줘야한다.

### 4. 파일 관리를 위한 명령어 - cp, mv

- cp [name] [new_name]: 파일을 복사하는 명령어
    - -r : recursive 옵션으로 디렉토리 복사도 포함한다. rm의 옵션의 의미와 동일하다.
- mv [name] [path/new_name]
    - path인 경우 파일 위치를 이동해주는 명령어로 사용된다.
    - new_name 인 경우 이름을 변경해주는 명령어로 사용된다.
    - 이동하면서 동시에 이름을 변경하는 것도 가능하다.
    

### 5. 검색에 사용하는 명령어

- find [옵션] [경로] [표현식] : 파일을 검색할 때 사용
    - find . -name $filename : 현재경로에서 $filename의 이름을 가진 파일이나 디렉토리를 찾는다.
        - 표현식에는 name, type, user, size… 이 존재한다.
    - 파일 이름은 정규표현식으로 입력이 가능하다.
        - “*[0-9]*” …
- which [옵션] [명령어] : $PATH에 등록된 경로 중에서, 주어진 이름의 실행 파일 위치를 찾는다.
    - 사용하고 있는 명령어가 설치된 위치를 찾는데 유용하다.
    - CLI 환경에서 실행 명령어가 현재 디렉토리 안에 없다면 $PATH에 등록된 경로에 존재한다.
- grep [옵션] [패턴] [파일명] : 대량의 파일에서 주어진 텍스트 또는 정규 표현식 패턴에 일치하는 텍스트를 찾는 명령어
    - 파이프와 함께 다양한 명령어와 조합하여 사용한다.
    - option
        - -r : 파일 단위가 아닌 디렉토리에서 패턴을 찾아준다.
        - -n : 줄번호를 같이 출력해준다.
        - -l : 파일 이름만 표시해준다.
    - “|” pipe란?
        - 이전 명령어의 결과를 다음 명령어에 넘겨준다.
        - grep -rn “[1-9]0\{3\}” . | grep find : “[1-9]0\{3\}” 패턴이 포함된 것들 중에서 find를 포함한 것을 찾는다.
- sed : 텍스트를 필터링하거나 변환하는 스트림 에디터
    - sed ‘s/old_word/new_word/g’ target_file : 타겟 파일에서 old_word를 new_word로 모두 바꾼 결과를 출력
        - s 는 치환을 의미한다.
        - /g가 global을 의미한다. 없으면 맨 처음 발견된 것만 변경한다.
        - d는 삭제를 의미한다.
    - vi에서도 :%s/old_word/new_word/g를 이용하여 문자열을 교체한다.
    - 대소문자를 구분한다.
    - option
        - -e : 한 줄에 여러 개의 변경식을 입력할 수 있다. 각각의 변경식 앞에 써줘야함
        - -i : 바뀐 문장이 출력이 되지 않고 그냥 바뀜.
    - grep -rl “[1-9]0\{3\}” . | xargs sed ‘s/-perm -4000 -fprintf/wrong string/g’ : grep 명령어를 이용하여 문자열 치환
        - xargs는 전 명령어를 매개변수로 받아주는 명령어

**잠시 건너 뛰어서 웹서비스와 서버엔지니어링부터 보기로 했습니다.**